# 航迹管理模块 | TrackManager
一个简单的类，用来管理航迹并进行可视化。

---
## 环境依赖
  - openCV (v4.13.0)
  - Catch2 (v3.x) 仅测试用，可选
---
## 项目概述
1. **使用方式**
   - 所有对外接口函数均在include文件下，引用trackerManager.hpp即可。编译CPP文件以LIB方式提供服务
   - 测试文件在tests文件夹下
2. **文件结构**
   - 头文件 [`include`](./include/)
   - 源文件 [`src`](./src/)
   - 三方库 [`utils`](./utils/)
   - 测试代码 [`tests`](./tests/)
   - 自动构建脚本 [`bmain.sh`](./bmain.sh)：
3. **代码结构**
4. - 泛型环形存储容器： **latestKbuffer\<T\>**
     - 循环存储，自动覆盖旧数据；能定点修改航迹点
   - 航迹管理层：**TrackManager**
     - 航迹记录（数据层）、终结管理；事务管理；
     - 调用latestKbuffer\<trackerContainer\>实现
   - 可视化组件：**TrackVisualizer**
     - 可插拔DEBUG组件，用于显示航迹，由宏定义启用，否则为空函数
     - 读取pack的包，日志记录并可视化
     - 读取点迹包，可视化
   - 对外服务层：**ManagementService**
     - 环形存储器里面含有一个含有航迹新点的包和一个含有点迹新航迹的包，输出pack后的完备航迹信息
     - 调用TrackManager和TrackVisualizer实现

## 开发日志  
### 2025-10-24 至 2025-10-25
1. **项目框架搭建**
2. **开发工具链集成**
   - 完成VSCode集成GDB调试
   - Git 版本控制（已配置 `.gitignore` 过滤构建产物）
3. **结构设计**
   - latestKbuffer\<T\> ：泛型环形存储容器：循环存储，自动覆盖旧数据；能定点修改航迹点
   - TrackManager - 航迹生命周期管理器：航迹记录（数据层）、终结管理；事务管理；
   - trackshow -可视化窗口：DEBUG功能用于显示航迹，两个函数接口，读取trackManager的航迹并可视化，另一个是读取外部输入的点迹进行可视化

### 2025-10-26 至 2025-10-26
1. **构建数据层：latestKbuffer\<T\>**
  - 基于环形缓冲区思路设计，仅保留最新的k个数据，数据满的时候自动弹出
  - 目前设计为禁止拷贝容器
  - 仅允许追加写入新x数据和定点修改数据，禁止移除数据**(已移除该功能放到应用层实现)**
  - 批量拷贝输出：智能内存拷贝策略，POD类型使用memcpy，非POD类型使用安全循环
  
### 2025-10-27 至 2025-11-2
1. 删除计算层：由卡尔曼滤波提供外推结果
   - 设计动机：为解决模块间紧耦合问题，提升系统可拆卸性与可维护性，放弃传统的计算层设计。
   - 统一缓冲区结构，航迹结构放到defstruct里面去，缓冲区结构
   - 设计指令结构用于各层通信
2. **航迹管理层设计**
   - 调用latestKBuffer，设计内存池
   - 提供航迹创建，航迹删除，航迹合并（同传感器合批），航迹输出服务
   - 提供航迹更新功能，且自动实现单群识别，航迹判断
   - 支持一键初始化所有航迹
  
### 2025-11-3 至 2025-11-4
1. 引入统一日志库进行调试，添加新文件结构./utils日志库修改为刚需
2. 添加友元TrackerManagerDebugger实现航迹管理服务层调试功能。
3. 修改对外接口为抽象服务层
4. 准备重写DEFSTRUCT，规定流水线接口 




待办事项：
性能基准测试（单线程场景）
